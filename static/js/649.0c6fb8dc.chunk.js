(self.webpackChunkspicyswap_ui=self.webpackChunkspicyswap_ui||[]).push([[649],{34441:function(n,t,e){"use strict";e.r(t),e.d(t,{Content:function(){return Wn},PepePot:function(){return Ln}});var r=e(30168),o=e(70244),a=o.ZP.p.withConfig({componentId:"sc-1ne1cdp-0"})(["margin:0;color:",";user-select:none;text-decoration:none;display:flex;font-size:0.875rem;font-weight:500;&.active{opacity:1;}"],(function(n){return n.theme.textSecondary})),c=(0,o.ZP)(a).withConfig({componentId:"sc-1ne1cdp-1"})(["font-weight:600;"]),i=((0,o.ZP)(a).withConfig({componentId:"sc-1ne1cdp-2"})(["color:",";opacity:0.7;"],(function(n){return n.theme.text})),e(47313));var s,u,d,l,p,f,m,x,h,g,b,v,w,y=e.p+"static/media/pot.b143ab72b427b7c4696995007ce0cf06.svg",Z=e.p+"static/media/pepeinpot.49f255cd901f5c253bdf.png",P=e(85517),j=o.ZP.p.withConfig({componentId:"sc-luxuec-0"})(["color:",";font-weight:500;font-size:1.2rem;margin:0;"],(function(n){return n.theme.textSecondary})),_=(o.ZP.p.withConfig({componentId:"sc-luxuec-1"})(["display:flex;align-items:center;gap:2px;color:",";font-weight:500;font-size:0.95rem;margin:0;&.active{color:",";}&:hover{cursor:",";}"],(function(n){return n.theme.textSecondary}),(function(n){return n.theme.text}),(function(n){return n.hover?"pointer":"unset"})),o.ZP.p.withConfig({componentId:"sc-luxuec-2"})(["display:flex;align-items:center;gap:2px;color:",";font-weight:500;font-size:0.95rem;margin:0;"],(function(n){return n.up?function(n){return n.theme.text.replace(/rgba?(\(\s*\d+\s*,\s*\d+\s*,\s*\d+)(?:\s*,.+?)?\)/,"rgba$1,1.2)")}:"#fc0303"})),e(87993)),k=(0,o.ZP)(j)(s||(s=(0,r.Z)(["\n  font-size: 2rem;\n  color: ",";\n  font-weight: 600;\n"])),(function(n){return n.theme.text})),A=o.ZP.div(u||(u=(0,r.Z)(["\n  text-align: center;\n  padding: 0 1rem;\n  color: ",";\n  gap: 1rem;\n  display: flex;\n  flex-direction: column;\n\n  "," {\n    width: 600px;\n  }\n"])),(function(n){return n.theme.textSecondary}),_.B.small),I=o.ZP.div(d||(d=(0,r.Z)(["\n  display: grid;\n  gap: 1rem;\n  grid-template-columns: 2fr 2fr;\n  justify-items: space-around;\n  width: 100%;\n\n  "," {\n    grid-template-columns: 2fr 2fr 2fr 2fr;\n    gap: 2rem;\n    width: initial;\n    padding: 0;\n  }\n"])),_.B.small),z=o.ZP.div(l||(l=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: ",";\n  padding: 1rem;\n  border-radius: 14px;\n  text-align: center;\n  font-size: 3rem;\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 15px 0px;\n\n  > :first-child {\n    color: ",";\n    font-size: 1.25rem;\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.text})),N=o.ZP.div(p||(p=(0,r.Z)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  gap: 2rem;\n\n  "," {\n    flex-direction: row;\n  }\n"])),_.B.small),E=o.ZP.div(f||(f=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  user-select: none;\n"]))),S=o.ZP.div(m||(m=(0,r.Z)(["\n  position: relative;\n  height: fit-content;\n  width: fit-content;\n"]))),C=o.ZP.span(x||(x=(0,r.Z)(["\n  color: white;\n  position: absolute;\n  top: 45%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  font-size: 1.25rem;\n  text-align: center;\n  font-weight: 600;\n  width: 80px;\n"]))),B=o.ZP.span(h||(h=(0,r.Z)(["\n  position: absolute;\n  padding: 12px;\n  top: 70%;\n  left: 50%;\n  border-radius: 6px;\n  transform: translate(-50%, -50%);\n  font-weight: 600;\n  color: ",";\n  background-color: ",";\n  box-shadow: rgba(0, 0, 0, 0.2) 0px 5px 15px 0px;\n"])),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.text})),O=o.ZP.div(g||(g=(0,r.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  justify-content: space-around;\n  color: ",";\n  font-size: 0.95rem;\n  padding: 1rem;\n  border-radius: 1rem;\n  max-width: 425px;\n  font-size: 1.25rem;\n  gap: 1.5rem;\n\n  "," {\n    width: 100%;\n    background-color: initial;\n    height: 275px;\n    gap: 0;\n    padding: 2rem;\n  }\n\n  span:last-of-type {\n    font-size: 12px;\n  }\n"])),(function(n){return n.theme.textSecondary}),_.B.small),L=(0,o.ZP)(P.N)(b||(b=(0,r.Z)(["\n  height: 50px;\n  color: ",";\n  max-width: 300px;\n"])),(function(n){return n.theme.textSecondary})),W=(o.ZP.div(v||(v=(0,r.Z)(["\n  width: 100%;\n"]))),o.ZP.table(w||(w=(0,r.Z)(["\n  background-color: ",";\n  border-radius: 4px;\n  border-collapse: collapse;\n  box-shadow: 0 2px 10px rgba(0, 67, 115, 0.2);\n  width: 100%;\n  max-width: 800px;\n  border-radius: 14px;\n  color: ",";\n  order: 5;\n\n  thead {\n    text-transform: uppercase;\n    font-weight: normal;\n    font-size: 0.75rem;\n  }\n\n  td,\n  th {\n    padding: 1rem 1.5rem;\n  }\n\n  .u-text-left {\n    text-align: left;\n  }\n\n  .table__link {\n    text-decoration: none;\n    color: ",";\n  }\n\n  .table__transaction {\n    a {\n      color: ",";\n    }\n  }\n\n  .u-text-right {\n    text-align: right;\n  }\n\n  .u-text-center {\n    text-align: center;\n  }\n\n  .text-center {\n    text-align: center;\n  }\n\n  @media (max-width: 600px) {\n    font-size: 14px;\n\n    thead {\n      display: none;\n    }\n\n    tr {\n      display: grid;\n      grid-template-columns: 2fr 2fr 2fr;\n      grid-template-rows: 1fr 1fr;\n      grid-column-gap: 1rem;\n      align-items: center;\n      padding: 1rem;\n      border-radius: 14px;\n    }\n\n    td {\n      padding: 0;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n    }\n\n    .table__account {\n      grid-column: 1;\n      grid-row: span 2;\n    }\n\n    .table__account-content {\n      display: flex;\n      flex-direction: column;\n    }\n\n    .table__odds {\n      grid-column: 2;\n      grid-row: 2;\n      font-size: 0.75rem;\n      padding-top: 0.125rem;\n    }\n\n    .table__odds::before {\n      content: 'Odds: ';\n    }\n\n    .table__pot::before {\n      content: 'Pot: ';\n    }\n\n    .table__transaction {\n      grid-column: 3;\n      grid-row: span 2;\n    }\n\n    .table__outcome {\n      grid-column: 2;\n      grid-row: 1;\n    }\n  }\n"])),(function(n){return n.theme.primary}),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.textSecondary}),(function(n){return n.theme.text}))),$=e(9884),F=e(46417),H=function(n){var t=n.rows;return t&&(0,F.jsxs)(W,{children:[(0,F.jsx)("thead",{children:(0,F.jsx)("tr",{children:[{name:"Account",align:"left"},{name:"Odds (%)",align:"right"},{name:"Pot",align:"right"},{name:"Outcome",align:"right"},{name:"Transaction ID",align:"right"}].map((function(n,t){return(0,F.jsx)("th",{className:"u-text-".concat(n.align),children:n.name},"th-".concat(t))}))})}),(0,F.jsx)("tbody",{children:t.map((function(n,t){return(0,F.jsxs)("tr",{children:[(0,F.jsx)("td",{className:"table__account",children:(0,F.jsx)("a",{href:"/",className:"table__account-content table__link",children:(0,F.jsx)("span",{className:"table__account-name",children:(0,$.r)(n.account,12)})})}),(0,F.jsx)("td",{className:"table__odds u-text-right",children:(0,F.jsxs)("span",{className:"num_negative",children:[" ",n.odds," "]})}),(0,F.jsx)("td",{className:"table__limit u-text-right",children:n.pot}),(0,F.jsx)("td",{className:"table__outcome u-text-right",children:"undefined"!==typeof n.outcome&&(n.outcome?"WIN!":"Loss")||"Pending"}),(0,F.jsx)("td",{className:"table__transaction u-text-right",children:(0,F.jsx)("a",{href:"https://ghostnet.tzkt.io/".concat(n.operation),target:"_blank",rel:"noreferrer",children:n.operation&&(0,$.r)(n.operation,12)})})]},"tr-".concat(t))}))})]})},T=e(65964),U=e(56352),D=e(1413),Q=e(91486),G=e(35381),q=e(74165),M=e(15861),R=e(64276),J=e(5390),K=e(55991),V=function(n,t){return n/Math.pow(10,t)},X=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(K.Lr,"contracts/").concat(K.vI,"/storage"),n.next=3,fetch(t);case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),Y=function(n){var t=n.storage;return{curr_odds:t.curr_odds,pot:t.pot}},nn=function(n){var t=n.storage.settings;return{bet_amount:t.bet_amount,odds_increase:t.odds_increase}},tn=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,X();case 2:return t=n.sent,e=nn({storage:t}),r=Y({storage:t}),n.abrupt("return",(0,D.Z)((0,D.Z)({},e),r));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),en=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="\n    ".concat(K.Lr,"tokens/transfers?from=").concat(K.vI,"&to.in=").concat(K.BG,",").concat(K.cN,"&token.contract=").concat(K._7,"\n  "),n.next=3,fetch(t);case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.abrupt("return",cn(r));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),rn=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="\n    ".concat(K.Lr,"tokens/transfers?to=").concat(K.vI,"&token.contract=").concat(K._7,"&limit=1000\n  "),n.next=3,fetch(t);case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.abrupt("return",on(r));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),on=function(n){return n.reduce((function(n,t){return n+Number(t.amount)}),0)},an=function(n){var t=n.curr_odds,e=n.pot,r=n.wagered,o=n.oddsIncrease,a=n.betAmount,c=n[K.BG],i=n[K.cN];return{burnAmount:V(i,2),daoAmount:V(c,2),currentOdds:V(Number(t),1),currentPot:V(Number(e),2),totalWagered:V(r,2),betAmount:V(Number(a),2),oddsIncrease:V(Number(o),1)}},cn=function(n){return n.reduce((function(n,t){var e=t.to.address,r=t.amount;return n[e]||(n[e]=Number(r)),n[e]+=Number(r),n}),{})},sn=e(64846),un=e(45987),dn=["level"],ln=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r,o,a;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(K.Lr,"contracts/").concat(K.vI,"/bigmaps/bets/keys?sort.desc=lastLevel&limit=10"),n.next=3,fetch(t);case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.next=9,pn();case 9:return o=n.sent,a=r.map((function(n){var t=o.find((function(t){return t.level===n.lastLevel}))||{},e=(t.level,(0,un.Z)(t,dn));return(0,D.Z)((0,D.Z)({},e),{},{account:n.value.player,outcome:null===n.value.outcome?void 0:Object.hasOwnProperty.call(n.value.outcome,"win")})})),n.abrupt("return",a);case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),pn=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t="".concat(K.Lr,"contracts/").concat(K.vI,"/storage/history?limit=25"),n.next=3,fetch(t);case 3:return e=n.sent,n.next=6,e.json();case 6:return r=n.sent,n.abrupt("return",fn(r));case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),fn=function(n){return n.map((function(n){return{operation:n.operation.hash,pot:V(Number(n.value.pot),2),odds:V(Number(n.value.curr_odds),1),level:n.level}}))},mn=(0,q.Z)().mark(hn),xn=(0,q.Z)().mark(bn);function hn(){var n,t,e,r;return(0,q.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,n=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t,e,r;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,tn();case 2:return t=n.sent,n.next=5,en();case 5:return e=n.sent,n.next=8,rn();case 8:return r=n.sent,n.abrupt("return",an((0,D.Z)((0,D.Z)((0,D.Z)({},e),t),{},{wagered:r})));case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),t=function(){var n=(0,M.Z)((0,q.Z)().mark((function n(){var t;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ln();case 2:return t=n.sent,n.abrupt("return",t);case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),o.next=5,n();case 5:return e=o.sent,o.next=8,t();case 8:if(r=o.sent,!e){o.next=14;break}return o.next=12,(0,R.gz)(jn.setParameters(e));case 12:return o.next=14,(0,R.gz)(jn.setBetHistory(r));case 14:o.next=18;break;case 16:o.prev=16,o.t0=o.catch(0);case 18:case"end":return o.stop()}}),mn,null,[[0,16]])}function gn(n){var t=n.payload;return(0,q.Z)().mark((function n(){var e,r,o,a,c;return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.userAddress,n.prev=1,n.next=4,sn.Qo.wallet.at(K.vI);case 4:return r=n.sent,n.next=7,sn.Qo.wallet.at(K._7);case 7:return o=n.sent,a=(0,J.O6)(32).toString("hex"),n.next=11,sn.Qo.wallet.batch().withContractCall(o.methods.update_operators([{add_operator:{owner:e,operator:K.vI,token_id:K.mL}}])).withContractCall(r.methods.bet(a)).withContractCall(o.methods.update_operators([{remove_operator:{owner:e,operator:K.vI,token_id:K.mL}}])).send();case 11:return c=n.sent,n.next=14,c.confirmation();case 14:return n.next=16,(0,R.gz)(jn.betExecuted(!0));case 16:n.next=23;break;case 18:return n.prev=18,n.t0=n.catch(1),n.next=22,(0,R.gz)(jn.betExecuted(!1));case 22:console.log(n.t0);case 23:case"end":return n.stop()}}),n,null,[[1,18]])}))()}function bn(){return(0,q.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,R.Fm)(jn.getParameters.type,hn);case 2:return n.next=4,(0,R.Fm)(jn.executeBet.type,gn);case 4:case"end":return n.stop()}}),xn)}var vn,wn=e(36059),yn={duration:4e3,position:"bottom-center",style:{borderRadius:"15px",background:"rgba(30,31,40,1)",color:"rgba(252,253,252,1)"},iconTheme:{primary:"#000",secondary:"#fff"},ariaProps:{role:"status","aria-live":"polite"}},Zn={betAmount:0,totalWagered:0,daoAmount:0,potAmount:0,burnAmount:0,oddsIncrease:0,currentOdds:0,currentPot:0,pending:!1,inProgress:!1,betHistory:[]},Pn=(0,Q.o)({name:"pepePot",initialState:Zn,reducers:{executeBet:function(n,t){n.pending=!0},betExecuted:function(n,t){t.payload?wn.ZP.success("Bet confirmed!",(0,D.Z)((0,D.Z)({},yn),{},{icon:"\ud83d\udc38",position:"top-center"})):wn.ZP.error("Bet failed. (probably)",(0,D.Z)((0,D.Z)({},yn),{},{icon:"\ud83d\udc38",position:"top-center"})),n.pending=!1},getBets:function(n){},getParameters:function(n){},setParameters:function(n,t){var e=t.payload,r=e.burnAmount,o=e.daoAmount,a=e.currentOdds,c=e.currentPot,i=e.totalWagered;n.burnAmount=r,n.daoAmount=o,n.currentOdds=a,n.currentPot=c,n.totalWagered=i},setBetHistory:function(n,t){n.betHistory=t.payload}}}),jn=Pn.actions,_n=(Pn.reducer,e(35323)),kn=function(n){return n.pepePot||Zn},An=(0,_n.P1)([kn],(function(n){return{burnAmount:n.burnAmount,daoAmount:n.daoAmount,currentOdds:n.currentOdds,currentPot:n.currentPot,totalWagered:n.totalWagered}})),In=(0,_n.P1)([kn],(function(n){return{betAmount:n.betAmount,oddsIncrease:n.oddsIncrease}})),zn=(0,_n.P1)([kn],(function(n){return n.betHistory})),Nn=(0,_n.P1)([kn],(function(n){return n.pending})),En=(0,_n.P1)([kn],(function(n){return n.betHistory.length&&"undefined"===typeof n.betHistory[0].outcome})),Sn=e(20716),Cn=e(58526),Bn=e(6653),On=function(){var n=(0,U.v9)(Nn),t=(0,U.v9)(En);return(0,U.v9)(Sn.bk)?t?(0,F.jsx)(i.Fragment,{children:"Bet in progress \u26d4"}):n?(0,F.jsx)(Bn.T,{small:!0,stroke:"rgba(255,255,255,1)"}):(0,F.jsx)(i.Fragment,{children:"Place your bet \ud83d\udc38"}):(0,F.jsx)(i.Fragment,{children:"Connect Wallet"})},Ln=function(){var n=(0,U.I0)(),t=((0,G.v)({key:Pn.name,reducer:Pn.reducer}),(0,G.h)({key:Pn.name,saga:bn}),{actions:Pn.actions}).actions,e=(0,Cn.nC)().actions,r=((0,U.v9)(In).betAmount,(0,U.v9)(An)),o=(0,U.v9)(Sn.bk),a=(0,U.v9)(zn),s=(0,U.v9)(En);return(0,i.useEffect)((function(){n(t.getParameters()),n(e.getActiveAccount())}),[]),(0,i.useEffect)((function(){var e=setInterval((function(){return n(t.getParameters())}),12500);return function(){return clearInterval(e)}}),[n,t]),(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(T.ql,{children:[(0,F.jsx)("title",{children:"Prize Pot"}),(0,F.jsx)("meta",{name:"description",content:"The pot starts with 75,000 $PEPE. Each bet that goes in increases the pot by 10,000 $PEPE. The pot will continue to grow until someone wins and then it starts over."})]}),(0,F.jsxs)(Wn,{children:[(0,F.jsx)(k,{children:"Pepe Prize Pot"}),(0,F.jsx)(A,{children:(0,F.jsx)("span",{children:"The pot starts with 75,000 $PEPE. When you click the \u201cBet\u201d button, you bet 10,000 $PEPE to win the pot. The pot will continue to grow until someone wins and then it starts over."})}),(0,F.jsxs)(I,{children:[(0,F.jsxs)(z,{children:[(0,F.jsx)(c,{children:"Odds"}),(0,F.jsx)(c,{children:"".concat(r.currentOdds.toFixed(2),"%")})]}),(0,F.jsxs)(z,{children:[(0,F.jsx)(c,{children:"Wagered"}),(0,F.jsx)(c,{children:r.totalWagered.toLocaleString("en-US")})]}),(0,F.jsxs)(z,{children:[(0,F.jsx)(c,{children:"Burned"}),(0,F.jsx)(c,{children:r.burnAmount.toLocaleString("en-US")})]}),(0,F.jsxs)(z,{children:[(0,F.jsx)(c,{children:"DAO"}),(0,F.jsx)(c,{children:r.daoAmount.toLocaleString("en-US")})]})]}),(0,F.jsxs)(N,{children:[(0,F.jsxs)(E,{children:[(0,F.jsx)("img",{src:Z,alt:"",loading:"lazy",style:{position:"absolute",width:"90px",height:"60px"}}),(0,F.jsxs)(S,{children:[(0,F.jsx)(C,{children:"$PEPE Pot Size"}),(0,F.jsx)(B,{children:r.currentPot.toLocaleString("en-US")}),(0,F.jsx)("img",{loading:"lazy",src:y,alt:""})]})]}),(0,F.jsxs)(O,{children:[(0,F.jsx)("span",{children:"Placing a bet will wager 10,000 $PEPE."}),(0,F.jsx)(L,{onClick:function(){o?r&&!s&&n(t.executeBet({userAddress:o.address})):n(e.connectWallet())},children:(0,F.jsx)(On,{})}),(0,F.jsx)("span",{children:"If you lose, 75% of your $PEPE are added to the pot, 12.5% is put into the DAO and 12.5% is burned."})]})]}),(0,F.jsx)(H,{rows:a})]}),(0,F.jsx)(wn.x7,{})]})},Wn=o.ZP.div(vn||(vn=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  justify-content: center;\n  padding: 20px;\n  gap: 28px;\n  flex-direction: column;\n  align-items: center;\n"])))},71922:function(){},2363:function(){}}]);